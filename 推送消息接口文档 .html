<html lang="en"><head>
    <meta charset="UTF-8">
    <title></title>
<style id="system" type="text/css">h1,h2,h3,h4,h5,h6,p,blockquote {    margin: 0;    padding: 0;}body {    font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;    font-size: 13px;    line-height: 18px;    color: #737373;    margin: 10px 13px 10px 13px;}a {    color: #0069d6;}a:hover {    color: #0050a3;    text-decoration: none;}a img {    border: none;}p {    margin-bottom: 9px;}h1,h2,h3,h4,h5,h6 {    color: #404040;    line-height: 36px;}h1 {    margin-bottom: 18px;    font-size: 30px;}h2 {    font-size: 24px;}h3 {    font-size: 18px;}h4 {    font-size: 16px;}h5 {    font-size: 14px;}h6 {    font-size: 13px;}hr {    margin: 0 0 19px;    border: 0;    border-bottom: 1px solid #ccc;}blockquote {    padding: 13px 13px 21px 15px;    margin-bottom: 18px;    font-family:georgia,serif;    font-style: italic;}blockquote:before {    content:"C";    font-size:40px;    margin-left:-10px;    font-family:georgia,serif;    color:#eee;}blockquote p {    font-size: 14px;    font-weight: 300;    line-height: 18px;    margin-bottom: 0;    font-style: italic;}code, pre {    font-family: Monaco, Andale Mono, Courier New, monospace;}code {    background-color: #fee9cc;    color: rgba(0, 0, 0, 0.75);    padding: 1px 3px;    font-size: 12px;    -webkit-border-radius: 3px;    -moz-border-radius: 3px;    border-radius: 3px;}pre {    display: block;    padding: 14px;    margin: 0 0 18px;    line-height: 16px;    font-size: 11px;    border: 1px solid #d9d9d9;    white-space: pre-wrap;    word-wrap: break-word;}pre code {    background-color: #fff;    color:#737373;    font-size: 11px;    padding: 0;}@media screen and (min-width: 768px) {    body {        width: 748px;        margin:10px auto;    }}</style><style id="custom" type="text/css"></style></head>
<body marginheight="0"><h1>消息发送接口</h1>
<h2>请求说明</h2>
<h3>请求方式:</h3>
<p>POST

</p>
<p>dataType:"json"

</p>
<p>Content-Type: application/json

</p>
<h3>URL:</h3>
<p><a href="http://ghxs.88u.cas.scut.edu.cn/Wisdom/message/thirdAccess">http://ghxs.88u.cas.scut.edu.cn/Wisdom/message/thirdAccess</a>

</p>
<h3>请求包结构体为:</h3>
<pre><code>{
 “account”:"" //账号（String）(另外方式告知)
 “password”:"" //密码（String）（另外方式告知）
 “serviceId”:"" //消息所属服务Id(long)( 1：就业招聘；2：学生活动;3：拾卡寻人;4.成绩查询;5.重要通知 6.网络保障;7.校园网)
 “messages”:[{}] //消息数组(JSONArray)
 “type”: "" //所推送人群标签号(long)（群发的时候传对应标签号，单发就传0）
 “desAccount”:""  //目标用户的学号(String)（针对某个用户推送消息的时候传对应学号，群发时传字符串”0”）
 “isPushAPP”:""  // 是否推给APP的标记(int)（0：不推给APP;1：推给APP）
 “isPushWX”:""  //是否推给微信的标记(int)（0：不推给微信;1：推给微信）
 “isPushQQ”:""  //是否推给QQ的标记(int)（0：不推给QQ;1：推给QQ）
 “isPushSMS”:""  //是否推给短信的标记(int)（0：不推给短信;1：推给短信）
 “isPushMail”:""  //是否推给邮箱的标记(int)（0：不推给用户邮箱;1：推给用户邮箱）
}</code></pre>
<h5>messages中的每个对象都有以下属性：</h5>
<pre><code>{
 “title”: "" // 消息标题（1到16个字）（String）（没有就传””,即空字符串）
 “url”: "" //消息所在网页url（String）（没有就传””,即空字符串）
 “summary”: "" //消息简介（23到60字）(String)（纯文本消息就传消息内容）
 “picture”: "" //图片地址(String) （没有就传””,即空字符串）
}</code></pre>
<hr>
<h3>返回结果</h3>
<p>成功时：
</p>
<pre><code>{
" users":"" //所推送用户的学号数组 (JSONArray)
" result":"success" //(发送成功)
}</code></pre>
<p>失败时：
</p>
<pre><code>{
"result":" wrong account or password " //(账号或密码错误)
"result":"fail" //(发送失败)
"result":"no permission" //(没有发送权限)
}</code></pre>
<h2>输入账号和密码返回能推送的服务和标签</h2>
<h2>请求说明</h2>
<h3>请求方式:</h3>
<p>POST

</p>
<p>dataType:"json"

</p>
<p>Content-Type: application/json

</p>
<h3>URL:</h3>
<p><a href="http://ghxs.88u.cas.scut.edu.cn/Wisdom/message/getAuth">http://ghxs.88u.cas.scut.edu.cn/Wisdom/message/getAuth</a>

</p>
<h3>请求包结构体为:</h3>
<pre><code>{
 “account”:"" //账号（String）(另外方式告知)
 “password”:"" //密码（String）（另外方式告知）
}</code></pre>
<h3>返回结果</h3>
<p>成功时：
</p>
<pre><code>{
" services": [  //所能推送的服务
{
“serviceId”:"" //服务ID（long）
“serviceName”:"" //服务名称(String)
}]
“labels”:  [   /所能推送的标签
{
“labelId”:"" //标签ID（long）
“labelName”:"" //标签姓名(String)
}
]
}</code></pre>
<p>失败时：
</p>
<pre><code>{
" result":" wrong account or password " //(账号或密码错误)
}</code></pre>
</body></html>